# [18290ë²ˆ_NMê³¼ K (1)](https://www.acmicpc.net/problem/18290)

##  Category : ë¸Œë£¨íŠ¸í¬ìŠ¤

-----

## ğŸ– ë‚´ í’€ì´

+ Nê³¼ M (1), (2)ë²ˆ ë¬¸ì œì²˜ëŸ¼ **ì¬ê·€**ë¥¼ ì´ìš©í•´ í’€ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ì„œ ê·¸ ë¬¸ì œì˜ ì¬ê·€ ì½”ë“œë¥¼ ì°¸ê³ í•´ ì§œë³´ì•˜ì§€ë§Œ, ì¬ê·€ë¥¼ ì•„ì§ ì™„ë²½í•˜ê²Œ ì´í•´í•˜ì§€ ëª»í•œ íƒ“ì¼ê¹Œ ì¤‘ê°„ì— ê¼¬ì˜€ë‹¤. 

<br>

<br>

-------

## ğŸ– Solution

### ì‹œê°„ ë³µì¡ë„ ê³„ì‚° 

















<br>

### í•µì‹¬ ì•„ì´ë””ì–´













<br>

### ì •ë‹µê³¼ ë‚´ í’€ì´ ë¹„êµ









































<br>

<br>

-----

## ğŸ– ì „ì²´ ì½”ë“œ

### ë‚´ ì½”ë“œ

```c++
#include <iostream>
using namespace std;


int k;
int m, n;
int ans = 0;
int temp = 0;

int table[10][10];
int cannotuse[10][10] = { 0 }; // ê¸°ë³¸ê°’ falseì´ë¯€ë¡œ ë‹¤ ì‚¬ìš©ê°€ëŠ¥



void selectrc(int r, int c) {
	// r, cë¥¼ ì„ íƒí–ˆì„ ë•Œ ì¸ì ‘í•œ ìˆ˜ë“¤ì€ ì‚¬ìš©í•˜ì§€ ëª»í•˜ê²Œ ë§Œë“œëŠ” í•¨ìˆ˜

	// 1. [r, c] ì‚¬ìš© ë¶ˆê°€ëŠ¥
	cannotuse[r][c]++;

	// 2. ìœ„ìª½ [r-1, c] ì‚¬ìš© ë¶ˆê°€ëŠ¥
	if (r > 0)
		cannotuse[r - 1][c]++;

	// 3. ì•„ë˜ìª½ ì‚¬ìš© ë¶ˆê°€ëŠ¥
	if (r + 1 < m)
		cannotuse[r + 1][c]++;

	// 4. ì™¼ìª½
	if (c > 0)
		cannotuse[r][c - 1]++;

	// 5. ì˜¤ë¥¸ìª½
	if (c + 1 < n)
		cannotuse[r][c + 1]++;

}

void releaserc(int r, int c) {
	// r, cë¥¼ ë†“ì•„ì¤„ ë•Œ ê·¸ ì¸ì ‘í•œ ìˆ˜ë„ ì´ì œ ì‚¬ìš©ê°€ëŠ¥í•˜ê²Œ ë§Œë“¤ì–´ì£¼ëŠ” í•¨ìˆ˜
	
	// 1. [r, c] ì‚¬ìš©ê°€ëŠ¥
	cannotuse[r][c]--;

	// 2. ìœ„ìª½ [r-1, c] ì‚¬ìš©ê°€ëŠ¥
	if (r > 0)
		cannotuse[r - 1][c]--;

	// 3. ì•„ë˜ìª½ ì‚¬ìš©ê°€ëŠ¥
	if (r + 1 < m)
		cannotuse[r + 1][c]--;

	// 4. ì™¼ìª½
	if (c > 0)
		cannotuse[r][c - 1]--;

	// 5. ì˜¤ë¥¸ìª½
	if (c + 1 < n)
		cannotuse[r][c + 1]--;

}




void go(int i, int j, int selected) { // go(0, 0, 0)

	if (selected == k) {// ì´ë¯¸ kê°œ ì„ íƒ í›„  go(k)ì„ í˜¸ì¶œí–ˆìœ¼ë¯€ë¡œ 
		if (temp > ans)
			ans = temp;// ê¸°ì¡´ ìµœëŒ“ê°’ê³¼ ë¹„êµí•´ì„œ ë” í¬ë©´ ì—…ë°ì´íŠ¸
		return;
	}

	if (i > n - 1 || j > m - 1)
		return;

	// í•´ë‹¹ i, jë¥¼ ì„ íƒí•  ë•Œ
	if (cannotuse[i][j] == 0) { // ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë•Œ, ì¦‰ ì´ë¯¸ ì„ íƒí•œ ìˆ˜ì— ì¸ì ‘í•˜ì§€ ì•Šì„ ë•Œ
		temp = temp + table[i][j];
		selectrc(i, j); // ì´ì œ [i,j]ì™€ ì´ì— ê·¼ì ‘í•œ ìˆ˜ë“¤ì€ ì ì‹œ ì‚¬ìš© ëª»í•¨

		if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
			go(i + 1, 0, selected + 1);
		else
			go(i, j + 1, selected + 1);
	}
	else {
		// í˜„ì¬ i, j  ì„ íƒ í•˜ì§€ ì•Šê³  ë‹¤ìŒ ì¬ê·€ í˜¸ì¶œ
		if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
			go(i + 1, 0, selected);
		else
			go(i, j + 1, selected);
	}

	// release
	temp = temp - table[i][j];
	releaserc(i, j);

	// í˜„ì¬ i, j  ì„ íƒ í•˜ì§€ ì•Šê³  ë‹¤ìŒ ì¬ê·€ í˜¸ì¶œ
	if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
		go(i + 1, 0, selected);
	else
		go(i, j + 1, selected);

/*

	// í˜„ì¬ i, j  ì„ íƒ í›„ ë‹¤ìŒ ì¬ê·€ í˜¸ì¶œ
	if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
		go(i + 1, 0, selected + 1);
	else
		go(i, j + 1, selected + 1);

	// í˜„ì¬ i, j  ì„ íƒ í•˜ì§€ ì•Šê³  ë‹¤ìŒ ì¬ê·€ í˜¸ì¶œ
	if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
		go(i + 1, 0, selected);
	else
		go(i, j + 1, selected );

*/


	// ì–¸ì œ release í•´ì¤˜ì•¼ í• ê¹Œ 
	// í•´ë‹¹ i, jë¥¼ ì„ íƒì•ˆí•  ë•Œ
	// ì˜¤ë¥¸ìª½, ì•„ë˜ìª½ìœ¼ë¡œ ì„ í˜•ì ìœ¼ë¡œ íƒìƒ‰í•˜ë©´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”(cannnotuse == falseì¸)ìˆ˜ë¥¼ ì„ íƒ
	// 


	// ì˜¤ë¥¸ìª½ ëì¼ ë•Œ, ì¦‰, j = m-1ì¼ ë•Œ ê³ ë ¤
	// temp ì´ˆê¸°í™”
}


int main() {
	cin >> n >> m >> k;; // 4 , 2
	
	for (int i = 0; i < n; i++) {
		for (int j = 0; j < m; j++) {
			cin >> table[i][j];
		}
	}

	go(0, 0, 0);

	return 0;
}
```



```c++
void go(int i, int j, int selected) { // go(0, 0, 0)

	if (selected == k) {// ì´ë¯¸ kê°œ ì„ íƒ í›„  go(k)ì„ í˜¸ì¶œí–ˆìœ¼ë¯€ë¡œ 
		if (temp > ans)
			ans = temp;// ê¸°ì¡´ ìµœëŒ“ê°’ê³¼ ë¹„êµí•´ì„œ ë” í¬ë©´ ì—…ë°ì´íŠ¸
		return;
	}

	if (i > n - 1 || j > m - 1)
		return;

	// í•´ë‹¹ i, jë¥¼ ì„ íƒí•  ë•Œ
	if (cannotuse[i][j] == 0) { // ì‚¬ìš©í•  ìˆ˜ ìˆì„ ë•Œ, ì¦‰ ì´ë¯¸ ì„ íƒí•œ ìˆ˜ì— ì¸ì ‘í•˜ì§€ ì•Šì„ ë•Œ
		temp = temp + table[i][j];
		selectrc(i, j); // ì´ì œ [i,j]ì™€ ì´ì— ê·¼ì ‘í•œ ìˆ˜ë“¤ì€ ì ì‹œ ì‚¬ìš© ëª»í•¨

		if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
			go(i + 1, 0, selected + 1);
		else
			go(i, j + 1, selected + 1);
	}
	else {
		// í˜„ì¬ i, j  ì„ íƒ í•˜ì§€ ì•Šê³  ë‹¤ìŒ ì¬ê·€ í˜¸ì¶œ
		if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
			go(i + 1, 0, selected);
		else
			go(i, j + 1, selected);
	}

	// release
	temp = temp - table[i][j];
	releaserc(i, j);

	// í˜„ì¬ i, j  ì„ íƒ í•˜ì§€ ì•Šê³  ë‹¤ìŒ ì¬ê·€ í˜¸ì¶œ
	if (j == m - 1)// ì œì¼ ì˜¤ë¥¸ìª½ì¼ ë•Œ 
		go(i + 1, 0, selected);
	else
		go(i, j + 1, selected);
```

í•¨ìˆ˜ í˜¸ì¶œ ê³¼ì •

+ go(0, 0, 0)           // temp = 1,  select(0, 0)

  + go(0, 1, 1)      // **1ë²ˆ**ì„  í˜¸ì¶œ

    + go(0, 2, 1)   // temp = 1 + 3 = 4; ì…€ë ‰íŠ¸(0, 2)   // **1ë²ˆ**ì—ì„œ í˜¸ì¶œ

      + go(1, 0, 2)   // ans = 4; return;

    + go(0, 2, 1)   // temp = 1  ; ë¦´ë¦¬ì¦ˆ(0, 2)  **2ë²ˆ**ì„ í˜¸ì¶œ

      + go(1, 0, 1)   // **2ë²ˆ**ì—ì„œ í˜¸ì¶œ

        + go(1, 1, 1)   // temp = 1+ 5 = 6;  ì…€ë ‰íŠ¸

          + go(1, 2, 2)   // ans = 6; return; 

        + go(1, 1, 1)   // temp = 1;  ë¦´ë¦¬ì¦ˆ

          + go(1, 2, 1)  // temp = 1 + 6 = 7; ì…€ë ‰íŠ¸

            + go(2, 0, 2)  // ans = 7; return;

          + go(1, 2, 1)  // temp = 1; ë¦´ë¦¬ì¦ˆ 

            + go(2, 0, 1)  // temp = 1 + 7 = ;

              

    



































go(0, 0, 0)           // temp = 1,  select(0, 0)

+ go(0, 1, 1)      // ì‚¬ìš©ëª»í•´ì„œ
  + go(0, 2, 1)   // temp = 1 + 3 = 4; ì…€ë ‰íŠ¸(0, 2)
    + go(1, 0, 2)   // ans = 4; return;
  + go(0, 2, 1)   // temp = 1  ; ë¦´ë¦¬ì¦ˆ(0, 2)
    + go(1, 0, 1)   // ì‚¬ìš©ëª»í•´ì„œ
      + go(1, 1, 1)   // temp = 1+ 5 = 6;  ì…€ë ‰íŠ¸
        + go(1, 2, 2)   // ans = 6; return; 
      + go(1, 1, 1)   // temp = 1;  ë¦´ë¦¬ì¦ˆ
        + go(1, 2, 1)  // temp = 1 + 6 = 7; ì…€ë ‰íŠ¸
          + go(2, 0, 2)  // ans = 7; return;
        + go(1, 2, 1)  // temp = 1; ë¦´ë¦¬ì¦ˆ 
          + go(2, 0, 1)  // temp = 1 + 7 = 8;
