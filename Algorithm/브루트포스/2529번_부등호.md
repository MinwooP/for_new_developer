# [2529ë²ˆ_ë¶€ë“±í˜¸](https://www.acmicpc.net/problem/2529)

##  Category : ë¸Œë£¨íŠ¸í¬ìŠ¤-ì¬ê·€-ë°±íŠ¸ë˜í‚¹

-----

## ğŸ– ë‚´ í’€ì´

+ ê° ìë¦¬(index)ì˜ ìˆ«ìë¥¼ ì„ íƒí•˜ëŠ” ì¬ê·€í•¨ìˆ˜ë¥¼ êµ¬í˜„í–ˆë‹¤.

  ì¢…ë£Œ ì¡°ê±´ : `index == k+1` ì¼ ë•Œ, ì¦‰ kê°œì˜ ë¶€ë“±í˜¸ì— ëŒ€í•œ k+1ê°œì˜ ìˆ«ìë¥¼ ì„ íƒí•œ í›„, `go(k+1, ~)`ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒ, ì¦‰ `index == k+1`ì¼ ë•Œ, `void update_ans()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•´ í˜„ì¬ì˜ ì •ë‹µê³¼ ìµœëŒ“ê°’, ì·¨ì†Ÿê°’ì„ ë¹„êµí•´ ì—…ë°ì´íŠ¸í•œë‹¤.

  ë§¤ê°œë³€ìˆ˜ : 

  + `int pre_chosen` : ì´ì „ indexì—ì„œ ì„ íƒí–ˆë˜ ìˆ˜, ê·¸ ìˆ˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¶€ë“±í˜¸ê°€ <ì´ë©´, ê·¸ìˆ˜ë³´ë‹¤ 1í° ìˆ˜ë¶€í„° ì‹œì‘í•´ì„œ ê³ ë¥´ë©´ ë˜ê³ , ë¶€ë“±í˜¸ê°€ >ì´ë©´, ê·¸ìˆ˜ë³´ë‹¤ 1ì‘ì€ ìˆ˜ë¶€í„° ì‹œì‘í•´ì„œ ê³ ë¥´ë©´ ëœë‹¤. ì™œëƒ, ë¶€ë“±í˜¸ë¥¼ ë§Œì¡±í•´ì•¼ í•˜ê¸° ë•Œë¬¸ì—
  + `char bigger` : ë‹¤ìŒ ìˆ˜ë¥¼ ì°¾ê¸° ìœ„í•œ ë¶€ë“±í˜¸

+ ê·¸ë¦¬ê³ , ì„ íƒëœ ìˆ«ìë“¤ì„ `vector<int> ans`ë¼ëŠ” vectorì— ë„£ì–´ì„œ ê´€ë¦¬, ë‚˜ì¤‘ì— ë§¨ ì• ìš”ì†Œë¶€í„° ë¹„êµ, ê·¸ë¦¬ê³  ìµœëŒ“ê°’ì´ë‚˜ ìµœì†Ÿê°’ì„ ì—…ë°ì´íŠ¸ í•´ì•¼ í•œë‹¤ë©´, vectorì˜ `assign()` method ì‚¬ìš©

<br>

-------

## ğŸ– Solution

### ì‹œê°„ ë³µì¡ë„ ê³„ì‚° 

+ k<=9 -> k+1 <= 10 ì¦‰, 0~9ê¹Œì§€ì˜ ìˆ«ìë¥¼ k+1ê°œì˜ ìë¦¬ì— ë„£ëŠ” ê²ƒì¸ë°, **ìµœëŒ€ 0~9ê¹Œì§€ì˜ ìˆ˜ë¥¼ 10ê°œì˜ ìë¦¬ì— ë„£ëŠ” ê²ƒì´ë¯€ë¡œ 10! = 3628800 ì´ë‹¤.** ë³„ë¡œ í¬ì§€ ì•Šìœ¼ë¯€ë¡œ ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ë‹¤ í•´ë´ë„ ëœë‹¤. 

<br>

### Key Idea

+ ê¸°ì¤€ì´ ë˜ëŠ” ê²ƒì€ **ìœ„ì¹˜**ì´ë‹¤. ë¶€ë“±í˜¸ ì‚¬ì´ì— ìˆëŠ” ìœ„ì¹˜ indexê°€ ì¤‘ìš”í•œ ì˜ë¯¸ë¥¼ ê°–ëŠ”ë‹¤. ê·¸ ìœ„ì¹˜ì— ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ë‹¤ìŒ ìœ„ì¹˜ì— ê°”ì„ ë•Œ ë³€í•˜ëŠ” ê²ƒì€ **ì–´ë–¤ ìˆ˜ë¥¼ ì‚¬ìš©í–ˆëŠ”ì§€**ì™€ **ê±°ê¸°ê¹Œì§€ ë§Œë“  ìˆ˜**ì´ë‹¤. -> `int index`, `string num` -> ìˆ˜ë¥¼ ì´ì–´ë¶™ì¼ ë•ŒëŠ” ë¬¸ìì—´ì´ í¸í•˜ë¯€ë¡œ 

  

<br>

### ì •ë‹µê³¼ ë‚´ í’€ì´ ë¹„êµ

<br>

<br>

-----

## ğŸ– ì „ì²´ ì½”ë“œ

### My code

```c++
#define _CRT_SECURE_NO_WARNINGS

#include <iostream>
#include <cstdlib>
#include <cmath>
#include <algorithm>
#include <climits>
#include <cstring>
#include <string>
#include <vector>
#include <queue>
#include <deque>
#include <stack>
#include <map>
#include<iomanip>

using namespace std;


int k;
vector<int> ans;
vector<int> max_vec(10, 0);
vector<int> min_vec(10, 9);


bool chosen[10];
char equality[10];

void update_ans() {
	// max, minê³¼ í˜„ì¬ ans vectorì˜ ê°’ì„ ë¹„êµí•´ ì—…ë°ì´íŠ¸
	// ì•ì—ì„œ k+1 ê°œë§Œ ë¹„êµí•˜ë©´ ë¨
	bool max_flag = false;
	bool min_flag = false;

	// maxì™€ ë¹„êµ
	for (int i = 0; i < k + 1; i++) {
		if (ans[i] > max_vec[i]) {
			max_flag = true;
			break;
		}
		else if (ans[i] < max_vec[i])
			break;
		else
			continue;
	}

	if (max_flag) {
		max_vec.clear();
		max_vec.assign(ans.begin(), ans.begin() + k + 1);
	}

	// maxì™€ ë¹„êµ
	for (int i = 0; i < k + 1; i++) {
		if (ans[i] < min_vec[i]) {
			min_flag = true;
			break;
		}
		else if (ans[i] > min_vec[i])
			break;
		else
			continue;
	}

	if (min_flag) {
		min_vec.clear();
		min_vec.assign(ans.begin(), ans.begin() + k + 1);
	}
}

void go(int index, int pre_chosen, char bigger) { // go(1, 0, equality[0])
	if (index == k + 1) { // ë‹¤ ì„ íƒí–ˆì„ ì‹œ,    1ê°œ ì„ íƒ í›„ -> go(1, ) í˜¸ì¶œ, .. k+1ê°œ ì„ íƒ í›„, go(k+1, ) í˜¸ì¶œ
		update_ans();
		return;
	}

    if(index == 0){
        for (int i = 0; i <= 9; i++) { // 0ë¶€í„° 9ê¹Œì§€ ì°¨ë¡€ë¡œ ì‹œì‘
		ans.push_back(i);
		chosen[i] = true;

		go(1, i, equality[0]); // ì´ì œ 0ë²ˆ ì„ íƒí–ˆìœ¼ë‹ˆ 1ë²ˆì§¸ index ì„ íƒ, iê°€ ì§ì „ì— ì„ íƒë¨, ë¶€ë“±í˜¸

		ans.pop_back();
		chosen[i] = false;
	}
        
    }
	if (bigger == '<') { // ë‹¤ìŒìˆ˜ëŠ” ë” ì»¤ì ¸ì•¼í•¨
		for (int i = pre_chosen + 1; i <= 9; i++) {
			if (!chosen[i]) { // ì´ ì „ì— ì‚¬ìš©ë˜ì§€ ì•Šì•˜ì„ ë•Œ
				ans.push_back(i);
				chosen[i] = true;

				go(index + 1, i, equality[index]);

				ans.pop_back();
				chosen[i] = false;
			}
		}
	}

	else { // ë‹¤ìŒìˆ˜ëŠ” ë” ì‘ì•„ì ¸ì•¼ í•¨
		for (int i = pre_chosen - 1; i >= 0; i--) {
			if (!chosen[i]) {
				ans.push_back(i);
				chosen[i] = true;

				go(index + 1, i, equality[index]);

				ans.pop_back();
				chosen[i] = false;
			}
		}
	}

	return;

}


int main()
{
	ios_base::sync_with_stdio(false);
	cin.tie(0);
	cout.tie(0);

	cin >> k;

	for (int i = 0; i < k; i++) {  // kê°œì˜ ë¶€ë“±í˜¸ ì…ë ¥, 2<=k<=9
		cin >> equality[i];
	}

	go(0, 0, 'a');

	for (int i = 0; i < k + 1; i++)
		cout << max_vec[i];
	cout << '\n';


	for (int i = 0; i < k + 1; i++)
		cout << min_vec[i];
	cout << '\n';

	return 0;
}

```

<br>

<br>

### After code refactoring

```c++
```

<br>

<br>

### Solution code

```c++
#include <iostream>
#include <algorithm>
#include <string>
#include <vector>
using namespace std;

int n;
char a[20];
vector<string> ans;
bool check[10];

bool good(char x, char y, char op) {
    if (op == '<') {
        if (x > y) return false; 
    }
    if (op == '>') {
        if (x < y) return false;
    }
    return true;
}

void go(int index, string num) {
    if (index == n+1) {
        ans.push_back(num);
        return;
    }
    for (int i=0; i<=9; i++) {
        if (check[i]) continue;
        if (index == 0 || good(num[index-1], i+'0', a[index-1])) {
            check[i] = true;
            go(index+1, num+to_string(i));
            check[i] = false;
        }
    }
}

int main() {
    cin >> n;
    for (int i=0; i<n; i++) {
        cin >> a[i];
    }
    
    go(0, "");
    auto p = minmax_element(ans.begin(), ans.end());
    
    cout << *p.second << '\n';
    cout << *p.first << '\n';
    return 0;
}
```

